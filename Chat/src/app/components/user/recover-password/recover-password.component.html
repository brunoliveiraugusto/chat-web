<div class="m-5">
  <div class="text-center">
    <h4>Cadastrar Senha <i class="bi bi-chat-dots"></i></h4>
  </div>
  <form #form="ngForm" [formGroup]="recoverPasswordFormGroup" class="form mt-3" (submit)="register()">
    <div class="form-group mb-3">
      <input type="text" formControlName="username" class="form-control" placeholder="Usuário de acesso" (keyup)="debounce.next($event.target.value)">
      <validation-message
        *ngIf="recoverPasswordFormGroup.get('username').errors?.required && (form.submitted || recoverPasswordFormGroup.get('username').touched)"
        text="O preenchimento do campo Usuário de acesso é obrigatório.">
      </validation-message>
      <validation-message
        *ngIf="!(userExists$ | async).data"
        text="O Usuário de acesso é inválido, tente novamente.">
      </validation-message>
    </div>
    <div class="form-group mb-3">
      <input type="text" formControlName="password" class="form-control" placeholder="Senha">
      <validation-message
        *ngIf="recoverPasswordFormGroup.get('password').errors?.required && (form.submitted || recoverPasswordFormGroup.get('password').touched)"
        text="O preenchimento do campo Senha é obrigatório.">
      </validation-message>
    </div>
    <div class="form-group mb-3">
      <input type="text" formControlName="passwordConfirmation" class="form-control" placeholder="Confirme a senha">
      <validation-message
        *ngIf="recoverPasswordFormGroup.get('passwordConfirmation').errors?.required && (form.submitted || recoverPasswordFormGroup.get('passwordConfirmation').touched)"
        text="O preenchimento do campo Confirme a senha é obrigatório.">
      </validation-message>
    </div>

    <button class="btn btn-primary btn-block w-100">Cadastrar Senha</button>
    <small class="text-muted mt-1">Caso já tenha um usuário validado ou queira fazer login, <u (click)="navigateTo('')">clique aqui.</u></small>
  </form>

</div>
